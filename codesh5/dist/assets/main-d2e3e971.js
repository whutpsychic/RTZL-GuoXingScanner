import{_ as g,r as l,u as I,a as B,o as D,c as N,b as c,d as o,w as b,s as w,e as y,f as R,g as L,N as T,C as V,F as x,p as E,h as P}from"./index-504dcbce.js";import{E as Q,a as F}from"./el-table-column-735cc983.js";import{c as j,q}from"./chukudan-3d640069.js";import{f as M}from"./commonUtil-c7ad8a0e.js";import{_ as A}from"./btn_chaxun3-17dac2a0.js";import{_ as G}from"./btn_queren-a649dfc1.js";import{_ as H}from"./btn_shoudong-49ae805b.js";const U={mounted(){this.$refs.formRef},setup(){const s=M(new Date,"yyyy/MM/dd"),t=l(s),m=l(s),e=l(""),u=l(!1),f=l(!1),i=I(),d=B();let _=l([]);const p=({selectedValues:a})=>{t.value=a.join("-"),u.value=!1},h=({selectedValues:a})=>{m.value=a.join("-"),f.value=!1},n=()=>history.back(),S=()=>{k()},k=()=>{w({duration:0,message:"加载中..."}),j({preBookId:i.state.chukudanListInfo.preBookId}).then(a=>{let C=[];C.push(a.data.value),_.value=C})};let v="";return{startDate:t,endDate:m,showPicker:u,showPicker2:f,onClickLeft:n,onConfirm:p,onConfirm2:h,onSubmit:k,onQuery:S,tableData:_,selectRow:(a,C,le)=>{v=a},confirmSelect:()=>{v?(i.commit("setCarInfo",v),d.push({name:"chukudanDetails"})):y("请选择正确的行！")},handleConfirmSelect:()=>{e.value?(w(),q(e.value).then(a=>{if(R(),a.data.value)i.commit("setCarInfo",a.data.value),d.push({name:"chukudanDetails"});else{y("请输入正确的车号");return}})):L({message:"请手工录入车号！",type:"fail"})},chehao:e}}},r=s=>(E("data-v-2d711884"),s=s(),P(),s),z={class:"table-content container"},J={class:"btn-area"},K=r(()=>o("img",{src:A,alt:""},null,-1)),O=r(()=>o("div",null,"查询",-1)),W=[K,O],X=r(()=>o("img",{src:G,alt:""},null,-1)),Y=r(()=>o("div",null,"确认",-1)),Z=[X,Y],$=r(()=>o("img",{src:H,alt:""},null,-1)),ee=r(()=>o("div",null,"手动确认",-1)),oe=[$,ee];function te(s,t,m,e,u,f){const i=T,d=F,_=Q,p=x,h=V;return D(),N("main",null,[c(i,{title:"选择车号",class:"page-nav-bar","left-arrow":"",onClickLeft:e.onClickLeft},null,8,["onClickLeft"]),o("div",z,[c(_,{data:e.tableData,border:"",id:"data-area",onRowClick:e.selectRow},{default:b(()=>[c(d,{prop:"plateNo",label:"车号"}),c(d,{prop:"serialNo",label:"单据号"})]),_:1},8,["data","onRowClick"]),o("div",null,[c(h,{inset:""},{default:b(()=>[c(p,{modelValue:e.chehao,"onUpdate:modelValue":t[0]||(t[0]=n=>e.chehao=n),label:"车号",placeholder:"请输入车号"},null,8,["modelValue"])]),_:1}),o("div",J,[o("div",{onClick:t[1]||(t[1]=(...n)=>e.onQuery&&e.onQuery(...n))},W),o("div",{onClick:t[2]||(t[2]=(...n)=>e.confirmSelect&&e.confirmSelect(...n))},Z),o("div",{onClick:t[3]||(t[3]=(...n)=>e.handleConfirmSelect&&e.handleConfirmSelect(...n))},oe)])])])])}const fe=g(U,[["render",te],["__scopeId","data-v-2d711884"]]);export{fe as default};
